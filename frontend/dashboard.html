<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Dashboard - Zerokey</title>
  </head>
  <body>
    <h1>Dashboard</h1>
    <p id="status">Loading...</p>

    <script>
      const token = localStorage.getItem("access_token");
      if (!token) {
        window.location.href = "/static/index.html";
      }

      document.getElementById("status").textContent =
        "Logged in with JWT! Token ready.";

      // Example: call protected endpoint
      fetch("/keys", {
        headers: {
          Authorization: `Bearer ${token}`,
        },
      })
        .then((r) => r.json())
        .then((data) => console.log("Keys:", data))
        .catch((err) => console.error("API error:", err));
    </script>
  </body>
</html>
